
<div id="kody_widget"><a href="https://www.kody.su/" target="_blank"><img alt="kody.su: телефонные коды" src="https://www.kody.su/img/mlogo.png"></a></div>
<script>
var kody_options = {id:'kody_widget', caption:'Оператор/город по номеру телефона'};
  (function(){
    var s = document.createElement('script'); s.type = 'text/javascript'; s.charset = 'UTF-8';
    s.async = true; s.src = "https://www.kody.su/embed/widget.min.js";
    document.getElementsByTagName('head')[0].appendChild(s);
  })();
</script>

<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Проверка виджета kody.su</title>
</head>
<body>
    <div id="kody_widget">
        <a href="https://www.kody.su/" target="_blank">
            <img alt="kody.su: телефонные коды" src="https://www.kody.su/img/mlogo.png">
        </a>
    </div>
    
    <script>
        // Твои options для виджета
        var kody_options = {id:'kody_widget', caption:'Оператор/город по номеру телефона'};
        
        // Функция для загрузки скрипта (как в твоём коде)
        (function(){
            var s = document.createElement('script'); 
            s.type = 'text/javascript'; 
            s.charset = 'UTF-8';
            s.async = true; 
            s.src = "https://www.kody.su/embed/widget.min.js";
            document.getElementsByTagName('head')[0].appendChild(s);
        })();
        
        // Функция проверки и действия
        function checkForBeelineAndOpenLink() {
            // Получаем текст из виджета (элемент #kody_widget)
            const widgetElement = document.getElementById('kody_widget');
            const widgetText = widgetElement ? widgetElement.textContent || widgetElement.innerText : '';
            
            // Проверяем на "Билайн" (без учёта регистра)
            const targetWord = 'Билайн';
            if (widgetText.toLowerCase().includes(targetWord.toLowerCase())) {
                console.log(`Слово "${targetWord}" найдено! Открываю ya.ru...`);
                window.open('https://ya.ru', '_blank');  // Открывает в новой вкладке
            } else {
                console.log(`Слово "${targetWord}" не найдено.`);
            }
        }
        
        // Ждём загрузки (например, 3 секунды после загруз```

ки страницы)
        window.addEventListener('load', function() {
            setTimeout(checkForBeelineAndOpenLink, 3000);  // Регулируй таймаут, если нужно
        });
    </script>
</body>
</html>
