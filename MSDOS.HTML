
<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Проверка оператора по номеру</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    form { max-width: 300px; }
    input, button { display: block; margin: 10px 0; padding: 8px; width: 100%; }
    #result { margin-top: 20px; font-weight: bold; color: green; }
  </style>
</head>
<body>
  <h1>Проверка оператора телефона</h1>
  <form id="phoneForm">
    <label for="phone">Введите номер телефона (например, 79001234567):</label>
    <input type="tel" id="phone" name="phone" required minlength="10" maxlength="15" value="">
    <button type="submit">Проверить</button>
  </form>
  <div id="result"></div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const form = document.getElementById('phoneForm');
      const input = document.getElementById('phone');
      const resultDiv = document.getElementById('result');

      form.addEventListener('submit', async (e) => {
        e.preventDefault(); // Не перезагружать страницу
        const phoneNumber = input.value.trim();
        if (!phoneNumber) return alert('Введите номер!');

        resultDiv.textContent = 'Загрузка...';

        const url = `https://num.voxlink.ru/get/?num=${encodeURIComponent(phoneNumber)}`;

        try {
          const response = await fetch(url);
          if (!response.ok) throw new Error(`Ошибка сети: ${response.status}`);

          const data = await response.text(); // Или .json() если точно JSON
          console.log('Полный ответ от API:', data); // Для отладки

          // Проверка на "Билайн"
          if (data.toLowerCase().includes('билайн')) {
            resultDiv.textContent = `Результат: Для номера ${phoneNumber} найден Билайн!`;
            resultDiv.style.color = 'green';
            // Опционально: открыть ya.ru
            // window.open(`https://ya.ru/?phone=${encodeURIComponent(phoneNumber)}`, '_blank');
          } else {
            resultDiv.textContent = `Результат: Для номера ${phoneNumber} Билайн не найден.`;
            resultDiv.style.color = 'red';
          }
        } catch (error) {
          resultDiv.textContent = `Ошибка: ${error.message}`;
          resultDiv.style.color = 'red';
          console.error('Детали ошибки:', error);
        }
      });
    });
  </script>
</body>
</html>



<div id="kody_widget"><a href="https://www.kody.su/" target="_blank"><img alt="kody.su: телефонные коды" src="https://www.kody.su/img/mlogo.png"></a></div>
<script>
var kody_options = {id:'kody_widget', caption:'Оператор/город по номеру телефона'};
  (function(){
    var s = document.createElement('script'); s.type = 'text/javascript'; s.charset = 'UTF-8';
    s.async = true; s.src = "https://www.kody.su/embed/widget.min.js";
    document.getElementsByTagName('head')[0].appendChild(s);
  })();
</script>

